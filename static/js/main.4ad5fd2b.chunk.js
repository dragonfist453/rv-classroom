(this["webpackJsonprv-classroom"]=this["webpackJsonprv-classroom"]||[]).push([[0],{101:function(e,a,t){},102:function(e,a,t){},126:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(10),l=t.n(o),c=(t(101),t(102),t(81)),i=t(176),s=t(12),u=t(40),m=t.n(u),d=t(51),p=t(26),b=t(43),E=t(7),h=t(158),v=t(84),f=t(177),g=t(162),w=t(163),O=t(182),j=t(160),k=t(180),x=t(166),C=t(178),y=t(181),I=t(183),F=t(167),S=t(168),V=t(179),P=t(164),A=t(165),D=t(155),N=t(52),H=t.n(N),W=t(3),B=Object(D.a)((function(e){return{root:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{padding:e.spacing(8)},img:{display:"block",margin:"auto",padding:e.spacing(2)},backdrop:{zIndex:100,color:"#fff"},button:{textTransform:"inherit"},nextButton:{float:"right",backgroundColor:e.primaryColor.color,color:"#fff"},registerButton:Object(E.a)({float:"left"},e.primaryColor),link:e.link}}));function L(){var e=B(),a=Object(r.useState)({emailid:"",password:"",user:"student",emailidValid:!0,passwordValid:!0,showPassword:!1,authFail:!1,networkError:!1,incorrectInfo:!1}),t=Object(b.a)(a,2),o=t[0],l=t[1],c=n.a.useState(!1),i=Object(b.a)(c,2),s=i[0],u=i[1];var D=function(e){return function(a){var t;l(Object(E.a)(Object(E.a)({},o),{},(t={},Object(p.a)(t,e,a.target.value),Object(p.a)(t,e+"Valid",function(e,a){if("emailid"===e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(String(a).toLowerCase())}return/^.{8,}$/.test(String(a).toLowerCase())}(e,a.target.value)),t)))}},N=function(){var e=Object(d.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),!o.emailidValid||!o.passwordValid){e.next=15;break}return e.prev=2,e.next=5,H.a.post("/api/"+o.user,{uid:o.emailid,pwd:o.password});case 5:!0===(t=e.sent).data.ok&&!0===t.data.auth?(localStorage.setItem("atoken",t.data.atoken),localStorage.setItem("isAuthenticated",!0),localStorage.setItem("user",o.user),window.location.replace(window.location.origin)):(l(Object(E.a)(Object(E.a)({},o),{},{authFail:!0})),u(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Axios request failed: ".concat(e.t0)),401===e.t0.status?(l(Object(E.a)(Object(E.a)({},o),{},{authFail:!0})),u(!1)):(l(Object(E.a)(Object(E.a)({},o),{},{networkError:!0})),u(!1));case 13:e.next=17;break;case 15:l(Object(E.a)(Object(E.a)({},o),{},{incorrectInfo:!o.emailidValid&&!o.passwordValid})),u(!1);case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),L=function(e){return function(a,t){"clickaway"!==t&&l(Object(E.a)(Object(E.a)({},o),{},Object(p.a)({},e,!1)))}};return n.a.createElement(h.a,{className:e.root,maxWidth:"md"},n.a.createElement(v.a,{variant:"outlined",className:e.paper},n.a.createElement("img",{src:"/rv-classroom/rvocms.png",alt:"RV OCMS logo",height:"200px",className:e.img}),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(f.a,{id:"emailid",label:"Email ID",type:"email",placeholder:"Enter your Email ID",variant:"outlined",fullWidth:!0,error:!o.emailidValid,onChange:D("emailid"),InputLabelProps:{shrink:!0}})),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(f.a,{id:"standard-adornment-password",label:"Password",placeholder:"Enter your password",error:!o.passwordValid,InputLabelProps:{shrink:!0},InputProps:{endAdornment:n.a.createElement(g.a,{position:"end"},n.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(E.a)(Object(E.a)({},o),{},{showPassword:!o.showPassword}))},onMouseDown:function(e){e.preventDefault()}},o.showPassword?n.a.createElement(P.a,null):n.a.createElement(A.a,null)))},fullWidth:!0,type:o.showPassword?"text":"password",value:o.password,variant:"outlined",onChange:D("password")})),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(O.a,{component:"fieldset"},n.a.createElement(j.a,{component:"legend"},"Are you a"),n.a.createElement(k.a,{row:!0,"aria-label":"user",name:"user",value:o.user,onChange:D("user")},n.a.createElement(x.a,{value:"student",control:n.a.createElement(C.a,null),label:"Student"}),n.a.createElement(x.a,{value:"teacher",control:n.a.createElement(C.a,null),label:"Teacher"})))),n.a.createElement("br",null),n.a.createElement(y.a,{open:o.incorrectInfo,autoHideDuration:6e3,onClose:L("incorrectInfo")},n.a.createElement(V.a,{elevation:6,variant:"filled",onClose:L("incorrectInfo"),severity:"error"},"Incorrect Information entered")),n.a.createElement(y.a,{open:o.authFail,autoHideDuration:6e3,onClose:L("authFail")},n.a.createElement(V.a,{elevation:6,variant:"filled",onClose:L("authFail"),severity:"error"},"Invalid username or password")),n.a.createElement(y.a,{open:o.networkError,autoHideDuration:6e3,onClose:L("networkError")},n.a.createElement(V.a,{elevation:6,variant:"filled",onClose:L("networkError"),severity:"error"},"Failed connecting to server")),n.a.createElement(I.a,{className:e.backdrop,open:s},n.a.createElement(F.a,{color:"inherit"})),n.a.createElement("div",null,n.a.createElement(S.a,{variant:"contained",className:Object(W.a)(e.nextButton,e.button),onClick:N},"Submit"))))}var z=t(171),R=[{name:"Database Design",teacher:"Shobha G",section:"A"},{name:"Network Programming and Security",teacher:"Veena Gadad",section:"A"},{name:"Finite Automata and Formal Languages",teacher:"HK Krishnappa",section:"A"},{name:"Software Engineering",teacher:"Vinay Hegde",section:"A"},{name:"Operations Research",teacher:"Vivekanand S Gogi"},{name:"Intellectual Property Rights and Entrepreneurship",teacher:"Chitra BT"}],T=t(169),$=t(170),M=t(85),Z=Object(D.a)((function(e){return{root:{maxWidth:450,transition:"boxShadow 0.5s ease-in","&:hover":{boxShadow:"0 1px 2px 0 rgba(60,64,67,0.302), 0 2px 6px 2px rgba(60,64,67,0.149)",cursor:"pointer"}}}}));function G(e){var a=Z();return n.a.createElement(T.a,{variant:"outlined",className:a.root},n.a.createElement($.a,null,n.a.createElement(M.a,{variant:"h5",noWrap:!0},e.class.name),n.a.createElement(M.a,{variant:"p"},e.class.section),n.a.createElement("br",null),n.a.createElement(M.a,{variant:"p"},e.class.teacher)))}var q=Object(D.a)((function(e){return{root:Object(E.a)(Object(E.a)({},e.page),{},{minWidth:"100vh"})}}));function J(){var e=q();return n.a.createElement(h.a,{maxWidth:"xl",className:e.root},n.a.createElement(z.a,{container:!0,row:!0,spacing:2},R.map((function(e){return n.a.createElement(z.a,{item:!0,xs:12,sm:6,md:4,lg:3},n.a.createElement(G,{class:e}))}))))}var K=Object(D.a)((function(e){return{root:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{padding:e.spacing(8)},img:{display:"block",margin:"auto",padding:e.spacing(2)},backdrop:{zIndex:100,color:"#fff"},button:{textTransform:"inherit"},nextButton:{float:"right",backgroundColor:e.primaryColor.color,color:"#fff"},registerButton:Object(E.a)({float:"left"},e.primaryColor),link:e.link}}));function U(){var e=K(),a=Object(r.useState)({username:"",password:"",usernameValid:!0,passwordValid:!0,showPassword:!1,authFail:!1,networkError:!1,incorrectInfo:!1}),t=Object(b.a)(a,2),o=t[0],l=t[1],c=n.a.useState(!1),i=Object(b.a)(c,2),s=i[0],u=i[1];var O=function(e){return function(a){var t;l(Object(E.a)(Object(E.a)({},o),{},(t={},Object(p.a)(t,e,a.target.value),Object(p.a)(t,e+"Valid",function(e,a){if("username"===e){return/^[A-Za-z0-9 ]+$/.test(String(a).toLowerCase())}return/^.{8,}$/.test(String(a).toLowerCase())}(e,a.target.value)),t)))}},j=function(){var e=Object(d.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),!o.usernameValid||!o.passwordValid){e.next=15;break}return e.prev=2,e.next=5,H.a.post("/api/admin",{uid:o.username,pwd:o.password});case 5:!0===(t=e.sent).data.ok&&!0===t.data.auth?(localStorage.setItem("atoken",t.data.atoken),localStorage.setItem("isAuthenticated",!0),window.location.replace(window.location.origin)):(l(Object(E.a)(Object(E.a)({},o),{},{authFail:!0})),u(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Axios request failed: ".concat(e.t0)),401===e.t0.status?(l(Object(E.a)(Object(E.a)({},o),{},{authFail:!0})),u(!1)):(l(Object(E.a)(Object(E.a)({},o),{},{networkError:!0})),u(!1));case 13:e.next=17;break;case 15:l(Object(E.a)(Object(E.a)({},o),{},{incorrectInfo:!o.usernameValid&&!o.passwordValid})),u(!1);case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),k=function(e){return function(a,t){"clickaway"!==t&&l(Object(E.a)(Object(E.a)({},o),{},Object(p.a)({},e,!1)))}};return n.a.createElement(h.a,{className:e.root,maxWidth:"md"},n.a.createElement(v.a,{variant:"outlined",className:e.paper},n.a.createElement("img",{src:"/rv-classroom/rvocms.png",alt:"RV OCMS logo",height:"200px",className:e.img}),n.a.createElement(M.a,{variant:"h4",style:{textAlign:"center"}},"Admin login"),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(f.a,{id:"username",label:"Username",type:"text",placeholder:"Enter your Username",variant:"outlined",fullWidth:!0,error:!o.usernameValid,onChange:O("username"),InputLabelProps:{shrink:!0}})),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(f.a,{id:"standard-adornment-password",label:"Password",placeholder:"Enter your password",error:!o.passwordValid,InputLabelProps:{shrink:!0},InputProps:{endAdornment:n.a.createElement(g.a,{position:"end"},n.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(E.a)(Object(E.a)({},o),{},{showPassword:!o.showPassword}))},onMouseDown:function(e){e.preventDefault()}},o.showPassword?n.a.createElement(P.a,null):n.a.createElement(A.a,null)))},fullWidth:!0,type:o.showPassword?"text":"password",value:o.password,variant:"outlined",onChange:O("password")})),n.a.createElement("br",null),n.a.createElement(y.a,{open:o.incorrectInfo,autoHideDuration:6e3,onClose:k("incorrectInfo")},n.a.createElement(V.a,{elevation:6,variant:"filled",onClose:k("incorrectInfo"),severity:"error"},"Incorrect Information entered")),n.a.createElement(y.a,{open:o.authFail,autoHideDuration:6e3,onClose:k("authFail")},n.a.createElement(V.a,{elevation:6,variant:"filled",onClose:k("authFail"),severity:"error"},"Invalid username or password")),n.a.createElement(y.a,{open:o.networkError,autoHideDuration:6e3,onClose:k("networkError")},n.a.createElement(V.a,{elevation:6,variant:"filled",onClose:k("networkError"),severity:"error"},"Failed connecting to server")),n.a.createElement(I.a,{className:e.backdrop,open:s},n.a.createElement(F.a,{color:"inherit"})),n.a.createElement("div",null,n.a.createElement(S.a,{variant:"contained",className:Object(W.a)(e.nextButton,e.button),onClick:j},"Submit"))))}var _=t(172),Q=t(173),X=t(174),Y=t(175),ee=Object(D.a)((function(e){return{appbar:e.appbar}}));function ae(e){var a=e.children,t=e.window,r=Object(_.a)({disableHysteresis:!0,threshold:0,target:t?t():void 0});return n.a.cloneElement(a,{elevation:r?4:0})}function te(e){var a=ee();return n.a.createElement(n.a.Fragment,null,n.a.createElement(ae,e,n.a.createElement(Q.a,{className:a.appbar},n.a.createElement(X.a,null,n.a.createElement(w.a,null,n.a.createElement(Y.a,null)),n.a.createElement("img",{src:"/rv-classroom/rvce.png",alt:"RVCE logo",height:"50px"}),n.a.createElement(M.a,{variant:"h6"}," Classroom")))))}var re=Object(c.a)({body:{backgroundColor:"#FFFFFF"},appbar:{backgroundColor:"#FFFFFF",color:"#111111",borderBottom:".0625rem solid #e0e0e0"},link:{textDecoration:"none"},primaryColor:{color:"#1a73e8"},page:{paddingTop:100}});var ne=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{theme:re},n.a.createElement(s.a,{exact:!0,path:"/"},n.a.createElement(L,null)),n.a.createElement(s.a,{exact:!0,path:"/admin"},n.a.createElement(U,null)),n.a.createElement(s.a,{path:"/user"},n.a.createElement(te,null),n.a.createElement(J,null))))},oe=t(60);l.a.render(n.a.createElement(oe.a,null,n.a.createElement(ne,null)),document.getElementById("root"))},96:function(e,a,t){e.exports=t(126)}},[[96,1,2]]]);
//# sourceMappingURL=main.4ad5fd2b.chunk.js.map